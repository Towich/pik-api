# Pik Yauza Park Telegram Bot

Бот отслеживает квартиры-студии и 1-комнатные варианты в ЖК «Яуза Парк» от ПИК и присылает уведомления в Telegram.

## Быстрый старт

1.  Установите зависимости

```bash
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

2.  Создайте файл `.env` в корне проекта и задайте переменные:

```
TELEGRAM_TOKEN=ваш_токен_бота
TELEGRAM_CHAT_ID=ваш_личный_chat_id
```

3.  Запустите бота:

```bash
python -m bot.main
```

> ⚠️  **Внимание.** Код готов к выполнению HTTP-запросов к `api.pik.ru`, но фактические вызовы выполняются только при запуске бота. До подтверждения работы не запускайте его, чтобы избежать блокировки со стороны ПИК.

## Команды бота

- `/start` — помощь
- `/studios` — 10 самых дешёвых студий
- `/one` — 10 самых дешёвых 1-комнатных квартир

Каждый час бот автоматически присылает краткую сводку с изменениями.

## Архитектура

SOLID-подход:

- `PIKApiClient` — слой доступа к внешнему API
- `FlatRepository` — работа с SQLite
- `MonitorService` — бизнес-логика и вычисление дельты
- `SummaryService` — формирование текстовых отчётов
- `Telegram Bot` (+ `JobQueue`) — пользовательский интерфейс и планировщик

## Логирование

Используется `loguru`; все HTTP-запросы к `api.pik.ru` логируются с указанием URL и статуса ответа. 